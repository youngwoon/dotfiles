#!/usr/bin/env bash
set -euo pipefail

# Usage: ./aws-ssh <public-dns>
# Example: ./aws-ssh ec2-1-2-3-4.us-west-2.compute.amazonaws.com

HOST="${1:-}"
KEY="${2:-$HOME/.ssh/laptop_vital_251231}"

if [[ -z "$HOST" ]]; then
  echo "Usage: $0 <public-dns>"
  exit 1
fi

if [[ ! -f "$KEY" ]]; then
  echo "Key file not found: $KEY"
  exit 1
fi

exec ssh -i "$KEY" -o StrictHostKeyChecking=accept-new "ubuntu@${HOST}"
